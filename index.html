<!DOCTYPE html>
<html>

<head>
    <title>Jesus Freak Playlists</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="keywords" content="Christian Music, Playlists, Christian Rock, Gospel">
    <meta name="description" content="Christian Music Playlists">
    <meta name="author" content="Joshua Payne">
    <meta name="theme-color" content="#f5f6fa">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
    <link type="text/css" rel="stylesheet" href="css/index.css" media="screen,projection" />
    <link href="css/materialdesignicons.min.css" media="all" rel="stylesheet" type="text/css" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link href="https://fonts.googleapis.com/css?family=Saira+Semi+Condensed:500,600,700" rel="stylesheet">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="js/lodash.js"></script>
    <script>
        window.changeYear = function( year ) {
            let yearPlaylists = _.filter(playlists, function(o) { return o.year == year; });
            $( "#tabs" ).empty();
            let headerUl = $("<ul>");
            headerUl.attr("id", "tab-headers");
            $( "#tabs" ).append( headerUl );
            _.each(yearPlaylists, function(playlist){

                let headerLi = $("<li>");
                let link = $("<a>");
                link.attr("href", "#" + playlist.code);
                link.text(playlist.genre);
                headerLi.html(link);

                $( "#tab-headers" ).append( headerLi );

                let tabDiv = $("<div>");
                tabDiv.attr("id", playlist.code);

                let tabP = $("<p>");
                tabP.text("Testing " + playlist.genre);
                tabDiv.append( tabP );

                $( "#tabs" ).append( tabDiv );
            });
            $( "#tabs" ).tabs();
        };
        jQuery( document ).ready(function( $ ) {
            $( function() {
                window.changeYear(1984);
                $( "#slider-vertical" ).slider({
                    orientation: "vertical",
                    range: "false",
                    animate: "fast",
                    min: 1949,
                    max: 2019,
                    value: 1984,
                    slide: function( event, ui ) {
                        $( "#year" ).val( ui.value );
                        window.changeYear( ui.value );
                    }
                });
                $( "#year" ).val( $( "#slider-vertical" ).slider( "value" ) );
            } );
        });
    </script>
</head>

<body style="background-color: #f5f6fa">
    <div>
        <div class="row">
            <div id="yearNavigation" class="col s1 m1 l1 center">

                <p>
                    <input type="text" id="year" readonly style="border:0; color:#f6931f; font-weight:bold;">
                </p>

                <div id="slider-vertical" style="height:200px;"></div>

            </div>

            <div id="portfolioColumn" class="col s11 m11 l11">

                <div id="portfolioTitle">
                    <p id="portfolioText">Playlists</p>
                    <!-- Type of work goes here -->
                    <p id="firstCategoryText">Christian Music by Year</p>
                </div>

                <div class="row" id="portfolioItemContainer">

                    <div id="tabs"></div>

                </div>

            </div>
        </div>
    </div>

    <script type="text/javascript" src="js/playlists.js"></script>
</body>

</html>
